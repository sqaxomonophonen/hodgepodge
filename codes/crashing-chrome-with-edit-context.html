<title>chrome crash</title>
<h3>to crash chrome, focus the square below, then press [A] followed by [backspace]</h3>
<canvas id="canvas" width="100" height="100" style="border: 1px dashed gray; background-color: #fdd;"></canvas>
<div><br/>("works" with google-chrome-stable, version 133.0.6943.141 and 134.0.6998.88, on Debian)</div>
<script>
if (typeof window.EditContext === "undefined") {
	alert("your browser does not have EditContext, so this demo will not work (latest Chrome should have it, Firefox does not)");
} else {
	const ec = canvas.editContext = new EditContext();
	ec.addEventListener("textupdate", () => {
		// no crash occurs if this updateText(...)-call is removed
		ec.updateText(0, ec.text.length, "");
	});
}
</script>
